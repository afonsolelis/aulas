<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aula 3 - Padr√µes de Software - Inteli</title>
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
  <style>
    :root {
      --inteli-purple: #855ede;
      --inteli-blue: #1863dc;
      --inteli-dark-purple: #2E2640;
      --inteli-light-purple: #C39EFF;
    }

    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    .slide-container {
      width: 100vw;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }

    .slide {
      width: 100%;
      height: 100%;
      display: none;
      padding: 60px;
      box-sizing: border-box;
      position: absolute;
    }

    .slide.active {
      display: flex;
      flex-direction: column;
      justify-content: center;
      animation: slideIn 0.5s ease-in-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(50px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .slide-header {
      background: linear-gradient(135deg, var(--inteli-purple), var(--inteli-blue));
      color: white;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .slide-title {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .slide-subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    .slide-content {
      flex: 1;
      overflow-y: auto;
      font-size: 1.6rem;
      line-height: 1.6;
    }

    .slide-content ul,
    .slide-content p {
      font-size: 1.6rem;
    }

    .slide-content li {
      margin-bottom: 15px;
    }

    .slide-content h2 {
      color: var(--inteli-purple);
      margin-bottom: 20px;
    }

    .slide-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #f8f9fa;
      color: white;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-buttons button {
      background-color: var(--inteli-purple);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin: 0 5px;
      transition: background-color 0.3s;
    }

    .nav-buttons button:hover:not(:disabled) {
      background-color: var(--inteli-blue);
    }

    .nav-buttons button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .back-home {
      background-color: var(--inteli-purple);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      text-decoration: none;
      transition: background-color 0.3s;
    }

    .back-home:hover {
      background-color: var(--inteli-blue);
      color: white;
    }

    .cover-slide {
      background-image: url('https://www.inteli.edu.br/wp-content/uploads/2025/08/Graduacao.jpg');
      background-size: cover;
      background-position: center;
      position: relative;
    }

    .cover-slide::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .cover-slide .slide-header {
      position: relative;
      z-index: 1;
      background: rgba(30, 30, 30, 0.85);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 60px;
      border-radius: 24px;
      max-width: 800px;
      width: 90%;
      margin: 0 auto;
      margin-bottom: 60px;
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .cover-logo {
      max-width: 400px;
      width: 80%;
      height: auto;
      margin-bottom: 40px;
    }

    .footer-logo {
      height: 30px;
      width: auto;
    }

    /* Code Block Styling */
    .code-container {
      background: #1e1e1e;
      border-radius: 8px;
      margin: 20px 0;
      position: relative;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    .code-content {
      padding: 20px;
      color: #d4d4d4;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 1.1rem;
      overflow-x: auto;
    }

    pre {
      margin: 0;
      white-space: pre-wrap;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    .copy-btn:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    /* Pattern Cards */
    .pattern-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 20px;
    }

    .pattern-card {
      padding: 20px;
      border-radius: 10px;
      border-left: 5px solid;
      transition: transform 0.2s;
    }

    .pattern-card:hover {
      transform: translateY(-5px);
    }

    .pattern-card h3 {
      margin: 0 0 10px 0;
      font-size: 1.5rem;
    }

    .pattern-card p {
      margin: 0;
      font-size: 1.2rem;
    }

    .creational {
      background: #e3f2fd;
      border-left-color: #1976d2;
    }

    .structural {
      background: #e8f5e9;
      border-left-color: #2e7d32;
    }

    .behavioral {
      background: #ede7f6;
      border-left-color: #5e35b1;
    }
  </style>
</head>

<body>
  <div class="slide-container">
    <!-- Slide 1: Cover -->
    <div class="slide active cover-slide">
      <div class="slide-header"
        style="text-align: center; flex: 1; display: flex; flex-direction: column; justify-content: center;">
        <div class="slide-subtitle">Aula 3 - Projeto 9 - Sistemas de Informa√ß√£o</div>
        <div class="slide-title">Design Patterns</div>
        <div style="font-size: 1.8rem; margin-top: 20px; opacity: 0.95;">Gang of Four e Padr√µes na Pr√°tica</div>
        <p style="margin-top: 30px; font-size: 1.1rem;">Professor: Afonso Brand√£o<br>Data: 12/02/2025</p>
      </div>
    </div>

    <!-- Slide 2: Agenda -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Agenda</div>
      </div>
      <div class="slide-content">
        <ul style="font-size: 1.5rem; line-height: 1.8;">
          <li><strong>Hist√≥ria:</strong> A Gang of Four e o livro que mudou tudo (1994).</li>
          <li><strong>Por que padr√µes?</strong> Vocabul√°rio comum e solu√ß√µes testadas.</li>
          <li><strong>As 3 Categorias:</strong> Criacionais, Estruturais e Comportamentais.</li>
          <li><strong>Padr√µes Essenciais:</strong> Singleton, Factory, Observer, Strategy e mais.</li>
          <li><strong>Na Pr√°tica:</strong> Aplicando padr√µes no sistema de Blog/Analytics.</li>
          <li><strong>Anti-Patterns:</strong> O que evitar e por qu√™.</li>
        </ul>
      </div>
    </div>

    <!-- Slide 3: Gang of Four -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Gang of Four (GoF)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">O livro que criou um vocabul√°rio universal</div>
      </div>
      <div class="slide-content">
        <h2 style="margin-top: 0; text-align: center;">"Design Patterns: Elements of Reusable Object-Oriented Software" (1994)</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 30px;">
          <!-- Erich Gamma -->
          <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; border-left: 5px solid #1976d2;">
            <h3 style="margin: 0 0 10px 0; color: #1565c0;">Erich Gamma</h3>
            <ul style="font-size: 1.2rem; line-height: 1.6; margin: 0;">
              <li><strong>Eclipse IDE:</strong> Co-criador do Eclipse, a IDE Java mais famosa dos anos 2000</li>
              <li><strong>JUnit:</strong> Co-criador do framework de testes unit√°rios com Kent Beck</li>
              <li><strong>Visual Studio Code:</strong> L√≠der t√©cnico do VSCode na Microsoft</li>
              <li><strong>Jazz Platform:</strong> Arquiteto-chefe na IBM Rational</li>
            </ul>
          </div>

          <!-- Richard Helm -->
          <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; border-left: 5px solid #2e7d32;">
            <h3 style="margin: 0 0 10px 0; color: #1b5e20;">Richard Helm</h3>
            <ul style="font-size: 1.2rem; line-height: 1.6; margin: 0;">
              <li><strong>IBM Research:</strong> Pesquisador em arquitetura de software</li>
              <li><strong>Ferramentas CASE:</strong> Trabalhou em ferramentas de engenharia de software assistida por computador</li>
              <li><strong>Refactoring Tools:</strong> Contribuiu para ferramentas automatizadas de refatora√ß√£o</li>
              <li><strong>Academia:</strong> Influ√™ncia em pesquisa de design orientado a objetos</li>
            </ul>
          </div>

          <!-- Ralph Johnson -->
          <div style="background: #ede7f6; padding: 20px; border-radius: 10px; border-left: 5px solid #5e35b1;">
            <h3 style="margin: 0 0 10px 0; color: #4527a0;">Ralph Johnson</h3>
            <ul style="font-size: 1.2rem; line-height: 1.6; margin: 0;">
              <li><strong>University of Illinois:</strong> Professor de Ci√™ncia da Computa√ß√£o</li>
              <li><strong>Smalltalk Community:</strong> L√≠der na comunidade Smalltalk e programa√ß√£o orientada a objetos</li>
              <li><strong>Refactoring:</strong> Pioneiro em t√©cnicas de refatora√ß√£o (influenciou Martin Fowler)</li>
              <li><strong>Frameworks:</strong> Pesquisa fundamental sobre design de frameworks reutiliz√°veis</li>
            </ul>
          </div>

          <!-- John Vlissides -->
          <div style="background: #fff3e0; padding: 20px; border-radius: 10px; border-left: 5px solid #ff9800;">
            <h3 style="margin: 0 0 10px 0; color: #e65100;">John Vlissides (1961-2005)</h3>
            <ul style="font-size: 1.2rem; line-height: 1.6; margin: 0;">
              <li><strong>IBM Research:</strong> Pesquisador s√™nior em Yorktown Heights</li>
              <li><strong>InterViews:</strong> Co-desenvolvedor do toolkit gr√°fico C++ InterViews</li>
              <li><strong>Unidraw:</strong> Framework para editores gr√°ficos</li>
              <li><strong>Pattern Languages:</strong> Contribui√ß√µes significativas para linguagens de padr√µes</li>
            </ul>
          </div>
        </div>

        <div style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-left: 5px solid #8e24aa; border-radius: 8px;">
          <p style="font-size: 1.3rem; margin: 0;">
            <strong>üí° Impacto:</strong> Catalogou 23 padr√µes que se tornaram a base da engenharia de software moderna.
            At√© hoje, esses padr√µes s√£o refer√™ncia obrigat√≥ria. O livro vendeu mais de 500.000 c√≥pias e foi traduzido para mais de 13 idiomas.
          </p>
        </div>
      </div>
    </div>

    <!-- Slide 4: Antes dos Padr√µes -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Antes dos Padr√µes: O Caos</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Por que padr√µes s√£o necess√°rios</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">‚ùå Sem Padr√µes</h3>
            <ul style="font-size: 1.4rem;">
              <li>Cada dev resolve o mesmo problema de forma diferente.</li>
              <li>C√≥digo dif√≠cil de entender e manter.</li>
              <li>Acoplamento alto, coes√£o baixa.</li>
              <li>Bugs recorrentes em mudan√ßas simples.</li>
              <li>Onboarding lento de novos devs.</li>
            </ul>
          </div>
          <div style="background: #e8f5e9; padding: 25px; border-radius: 12px; border-left: 6px solid #4caf50;">
            <h3 style="margin-top: 0; color: #2e7d32;">‚úÖ Com Padr√µes</h3>
            <ul style="font-size: 1.4rem;">
              <li>Solu√ß√µes padronizadas e reconhec√≠veis.</li>
              <li>C√≥digo auto-documentado pelo padr√£o.</li>
              <li>Baixo acoplamento, alta coes√£o.</li>
              <li>Mudan√ßas localizadas e seguras.</li>
              <li>Onboarding r√°pido: "Ah, √© um Observer!"</li>
            </ul>
          </div>
        </div>
        <div style="margin-top: 30px; padding: 20px; background: #e3f2fd; border-left: 5px solid #1976d2; border-radius: 8px;">
          <p style="font-size: 1.3rem; margin: 0;">
            <strong>‚ö†Ô∏è Importante:</strong> Padr√µes N√ÉO s√£o c√≥digo pronto para copiar. S√£o <em>templates conceituais</em> que voc√™ adapta ao seu contexto.
          </p>
        </div>
      </div>
    </div>

    <!-- Slide 5: As 3 Categorias -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">As 3 Categorias de Padr√µes</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Criacionais, Estruturais e Comportamentais</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-top: 20px;">
          <!-- Criacionais -->
          <div style="background: #e3f2fd; padding: 30px; border-radius: 12px; border-left: 6px solid #1976d2;">
            <h3 style="margin-top: 0; color: #1565c0; font-size: 2rem;">üèóÔ∏è Criacionais</h3>
            <p style="font-size: 1.3rem;"><strong>Foco:</strong> Como os objetos s√£o criados.</p>
            <p style="font-size: 1.2rem; margin-top: 15px;"><strong>Objetivo:</strong> Esconder a l√≥gica de cria√ß√£o, tornando o sistema mais flex√≠vel.</p>
            <ul style="font-size: 1.3rem; margin-top: 15px;">
              <li>Singleton</li>
              <li>Factory Method</li>
              <li>Abstract Factory</li>
              <li>Builder</li>
              <li>Prototype</li>
            </ul>
          </div>

          <!-- Estruturais -->
          <div style="background: #e8f5e9; padding: 30px; border-radius: 12px; border-left: 6px solid #2e7d32;">
            <h3 style="margin-top: 0; color: #1b5e20; font-size: 2rem;">üîó Estruturais</h3>
            <p style="font-size: 1.3rem;"><strong>Foco:</strong> Como os objetos se relacionam.</p>
            <p style="font-size: 1.2rem; margin-top: 15px;"><strong>Objetivo:</strong> Organizar classes e objetos para formar estruturas maiores.</p>
            <ul style="font-size: 1.3rem; margin-top: 15px;">
              <li>Adapter</li>
              <li>Decorator</li>
              <li>Facade</li>
              <li>Proxy</li>
              <li>Composite</li>
            </ul>
          </div>

          <!-- Comportamentais -->
          <div style="background: #ede7f6; padding: 30px; border-radius: 12px; border-left: 6px solid #5e35b1;">
            <h3 style="margin-top: 0; color: #4527a0; font-size: 2rem;">‚ö° Comportamentais</h3>
            <p style="font-size: 1.3rem;"><strong>Foco:</strong> Como os objetos interagem.</p>
            <p style="font-size: 1.2rem; margin-top: 15px;"><strong>Objetivo:</strong> Definir comunica√ß√£o e responsabilidades entre objetos.</p>
            <ul style="font-size: 1.3rem; margin-top: 15px;">
              <li>Observer</li>
              <li>Strategy</li>
              <li>Command</li>
              <li>Template Method</li>
              <li>State</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 6: Singleton -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Singleton (Criacional)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Uma √∫nica inst√¢ncia global</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Garante que uma classe tenha <strong>apenas uma inst√¢ncia</strong> e fornece um ponto de acesso global a ela.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Como o presidente de um pa√≠s - s√≥ pode ter UM ao mesmo tempo! Todo mundo acessa o mesmo presidente, n√£o criam novos presidentes toda hora.
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>Configura√ß√µes globais</li>
              <li>Pools de conex√£o</li>
              <li>Loggers</li>
              <li>Cache compartilhado</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #fff3e0; border-left: 5px solid #ff9800; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>‚ö†Ô∏è Cuidado:</strong> Singleton pode dificultar testes e criar acoplamento global. Use com modera√ß√£o!
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Singleton Thread-Safe em C#
public sealed class DatabaseConnection
{
    private static DatabaseConnection _instance = null;
    private static readonly object _lock = new object();

    // Construtor privado impede new externo
    private DatabaseConnection()
    {
        Console.WriteLine("Conex√£o criada!");
    }

    public static DatabaseConnection Instance
    {
        get
        {
            lock (_lock)
            {
                if (_instance == null)
                {
                    _instance = new DatabaseConnection();
                }
                return _instance;
            }
        }
    }

    public void Query(string sql)
    {
        Console.WriteLine($"Executando: {sql}");
    }
}

// Uso
var db1 = DatabaseConnection.Instance;
var db2 = DatabaseConnection.Instance;
// db1 == db2 (mesma inst√¢ncia!)</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 7: Factory Method -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Factory Method (Criacional)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Delegando a cria√ß√£o de objetos</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Define uma interface para criar objetos, mas <strong>deixa as subclasses decidirem</strong> qual classe instanciar.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Como pedir "uma pizza" na pizzaria. Voc√™ n√£o faz a pizza, s√≥ pede! A pizzaria decide se faz margherita, calabresa ou portuguesa. A f√°brica (pizzaria) cria o objeto (pizza)!
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>N√£o sabe exatamente qual classe precisa criar</li>
              <li>Quer delegar a decis√£o para subclasses</li>
              <li>Precisa de flexibilidade para adicionar novos tipos</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e8f5e9; border-left: 5px solid #4caf50; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>‚úÖ Vantagem:</strong> Open/Closed Principle - aberto para extens√£o, fechado para modifica√ß√£o.
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Interface comum
public interface INotificacao
{
    void Enviar(string mensagem);
}

// Implementa√ß√µes concretas
public class EmailNotificacao : INotificacao
{
    public void Enviar(string msg) =>
        Console.WriteLine($"üìß Email: {msg}");
}

public class SmsNotificacao : INotificacao
{
    public void Enviar(string msg) =>
        Console.WriteLine($"üì± SMS: {msg}");
}

// Factory Method
public abstract class NotificacaoFactory
{
    public abstract INotificacao CriarNotificacao();
}

public class EmailFactory : NotificacaoFactory
{
    public override INotificacao CriarNotificacao()
        => new EmailNotificacao();
}

public class SmsFactory : NotificacaoFactory
{
    public override INotificacao CriarNotificacao()
        => new SmsNotificacao();
}

// Uso
NotificacaoFactory factory = new EmailFactory();
INotificacao notif = factory.CriarNotificacao();
notif.Enviar("Novo coment√°rio!");</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 8: Observer -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Observer (Comportamental)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">O padr√£o por tr√°s de eventos e notifica√ß√µes</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Define uma depend√™ncia um-para-muitos: quando um objeto muda de estado, todos os seus <strong>observadores</strong> s√£o notificados automaticamente.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Como inscrever no canal do YouTube! Quando o youtuber posta v√≠deo novo, TODOS os inscritos recebem notifica√ß√£o. Ele n√£o precisa avisar cada um individualmente!
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>Sistemas de eventos (Event-Driven!)</li>
              <li>Notifica√ß√µes em tempo real</li>
              <li>UI reativa (quando dados mudam)</li>
              <li>Pub/Sub patterns</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e3f2fd; border-left: 5px solid #1976d2; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üí° Conex√£o:</strong> Kafka, SignalR e eventos do Blazor usam Observer internamente!
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Subject (Observ√°vel)
public class Blog
{
    private List&lt;IObserver&gt; _observers = new();

    public void AdicionarObserver(IObserver observer)
    {
        _observers.Add(observer);
    }

    public void NovoComentario(string texto)
    {
        Console.WriteLine($"Coment√°rio criado: {texto}");
        // Notifica todos os observers
        foreach (var obs in _observers)
        {
            obs.Atualizar(texto);
        }
    }
}

// Interface Observer
public interface IObserver
{
    void Atualizar(string mensagem);
}

// Observers concretos
public class AnalyticsService : IObserver
{
    public void Atualizar(string msg)
    {
        Console.WriteLine($"üìä Analytics: registrando '{msg}'");
    }
}

public class ModeracaoService : IObserver
{
    public void Atualizar(string msg)
    {
        Console.WriteLine($"üõ°Ô∏è Modera√ß√£o: analisando '{msg}'");
    }
}

// Uso
var blog = new Blog();
blog.AdicionarObserver(new AnalyticsService());
blog.AdicionarObserver(new ModeracaoService());
blog.NovoComentario("√ìtimo post!");</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 9: Strategy -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Strategy (Comportamental)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Trocar algoritmos em tempo de execu√ß√£o</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Define uma fam√≠lia de algoritmos, <strong>encapsula cada um</strong> e os torna intercambi√°veis. Strategy permite que o algoritmo varie independentemente dos clientes que o usam.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Como escolher transporte para ir trabalhar: carro, √¥nibus, bicicleta ou Uber. O objetivo √© o mesmo (chegar no trabalho), mas a estrat√©gia muda! Voc√™ pode trocar a qualquer momento.
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>M√∫ltiplas formas de fazer a mesma coisa</li>
              <li>Evitar if/else ou switch gigantes</li>
              <li>Algoritmos que mudam em runtime</li>
              <li>Processamento de pagamento, ordena√ß√£o, valida√ß√£o</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #ede7f6; border-left: 5px solid #5e35b1; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>‚úÖ Vantagem:</strong> Elimina condicionais complexas e facilita adicionar novos algoritmos.
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Interface Strategy
public interface IAnaliseStrategy
{
    double CalcularScore(string texto);
}

// Strategies concretas
public class SentimentoPositivo : IAnaliseStrategy
{
    public double CalcularScore(string texto)
    {
        return texto.Contains("√≥timo") ? 0.9 : 0.5;
    }
}

public class SentimentoNegativo : IAnaliseStrategy
{
    public double CalcularScore(string texto)
    {
        return texto.Contains("p√©ssimo") ? 0.1 : 0.5;
    }
}

// Context (usa a strategy)
public class AnalisadorComentario
{
    private IAnaliseStrategy _strategy;

    public AnalisadorComentario(IAnaliseStrategy strategy)
    {
        _strategy = strategy;
    }

    public void MudarStrategy(IAnaliseStrategy novaStrategy)
    {
        _strategy = novaStrategy;
    }

    public double Analisar(string comentario)
    {
        return _strategy.CalcularScore(comentario);
    }
}

// Uso
var analisador = new AnalisadorComentario(new SentimentoPositivo());
Console.WriteLine(analisador.Analisar("√≥timo post!")); // 0.9

analisador.MudarStrategy(new SentimentoNegativo());
Console.WriteLine(analisador.Analisar("p√©ssimo")); // 0.1</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 10: Decorator -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Decorator (Estrutural)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Adicionando responsabilidades dinamicamente</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Permite <strong>adicionar comportamentos</strong> a objetos individuais, dinamicamente, sem afetar outros objetos da mesma classe.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Como adicionar coberturas numa pizza! Pizza base ‚Üí +queijo extra ‚Üí +borda recheada ‚Üí +catupiry. Cada "decorator" adiciona uma camada sem mudar a pizza original!
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>Adicionar funcionalidades opcionais</li>
              <li>Evitar explos√£o de subclasses</li>
              <li>Middleware, pipelines de processamento</li>
              <li>Logging, caching, valida√ß√£o</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e8f5e9; border-left: 5px solid #4caf50; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üí° Exemplo real:</strong> ASP.NET Core middleware √© uma implementa√ß√£o de Decorator!
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Interface base
public interface IComentario
{
    string ObterTexto();
}

// Componente concreto
public class ComentarioSimples : IComentario
{
    private string _texto;

    public ComentarioSimples(string texto)
    {
        _texto = texto;
    }

    public string ObterTexto() => _texto;
}

// Decorator base
public abstract class ComentarioDecorator : IComentario
{
    protected IComentario _comentario;

    public ComentarioDecorator(IComentario comentario)
    {
        _comentario = comentario;
    }

    public virtual string ObterTexto()
        => _comentario.ObterTexto();
}

// Decorators concretos
public class FiltroSpam : ComentarioDecorator
{
    public FiltroSpam(IComentario c) : base(c) { }

    public override string ObterTexto()
    {
        var texto = base.ObterTexto();
        return texto.Replace("SPAM", "***");
    }
}

public class LogDecorator : ComentarioDecorator
{
    public LogDecorator(IComentario c) : base(c) { }

    public override string ObterTexto()
    {
        Console.WriteLine("üìù Log: lendo coment√°rio");
        return base.ObterTexto();
    }
}

// Uso - empilhando decorators!
IComentario c = new ComentarioSimples("SPAM aqui");
c = new FiltroSpam(c);
c = new LogDecorator(c);
Console.WriteLine(c.ObterTexto()); // "*** aqui"</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 11: Adapter -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Adapter (Estrutural)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Conectando interfaces incompat√≠veis</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Converte a interface de uma classe em outra interface que o cliente espera. Permite que classes incompat√≠veis trabalhem juntas.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Adaptador de tomada! Seu celular americano (110V tomada de 2 pinos) precisa funcionar no Brasil (220V tomada de 3 pinos). O adaptador converte uma interface na outra!
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>Integra√ß√£o com APIs legadas</li>
              <li>Bibliotecas de terceiros com interfaces diferentes</li>
              <li>Migra√ß√£o gradual de sistemas</li>
              <li>Abstrair depend√™ncias externas</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e3f2fd; border-left: 5px solid #1976d2; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üí° Conex√£o:</strong> Essencial para integrar sistemas antigos com novos!
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Sistema legado (n√£o podemos mudar)
public class SistemaLegadoAnalytics
{
    public void EnviarDadosAntigos(string data, int valor)
    {
        Console.WriteLine($"Sistema Legado: {data} = {valor}");
    }
}

// Nova interface que queremos usar
public interface IAnalyticsModerno
{
    void Registrar(MetricaModerna metrica);
}

public class MetricaModerna
{
    public DateTime Timestamp { get; set; }
    public int Valor { get; set; }
}

// Adapter - faz a ponte!
public class AnalyticsAdapter : IAnalyticsModerno
{
    private SistemaLegadoAnalytics _legado = new();

    public void Registrar(MetricaModerna metrica)
    {
        // Converte formato moderno para formato legado
        string dataLegada = metrica.Timestamp.ToString("yyyy-MM-dd");
        _legado.EnviarDadosAntigos(dataLegada, metrica.Valor);
    }
}

// Uso - cliente usa interface moderna
IAnalyticsModerno analytics = new AnalyticsAdapter();
analytics.Registrar(new MetricaModerna
{
    Timestamp = DateTime.Now,
    Valor = 42
});</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 12: Chain of Responsibility -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Chain of Responsibility (Comportamental)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Passando a batata quente at√© algu√©m resolver</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √©?</h3>
            <p style="font-size: 1.4rem;">Passa uma requisi√ß√£o por uma <strong>cadeia de handlers</strong>. Cada handler decide se processa ou passa para o pr√≥ximo da fila.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Voc√™ pede aumento pro seu chefe ‚Üí ele passa pro gerente ‚Üí gerente passa pro diretor ‚Üí diretor passa pro CEO. Cada um pode aprovar OU passar pra frente!
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Quando usar?</h3>
            <ul style="font-size: 1.3rem;">
              <li>Pipeline de processamento de eventos</li>
              <li>Valida√ß√µes em sequ√™ncia</li>
              <li>Middleware HTTP (ASP.NET Core!)</li>
              <li>Sistema de suporte por n√≠veis</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e8f5e9; border-left: 5px solid #4caf50; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üí° Conex√£o:</strong> Perfeito para processar eventos! Cada handler trata uma parte do evento.
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// Handler abstrato
public abstract class ComentarioHandler
{
    protected ComentarioHandler _proximo;

    public void SetProximo(ComentarioHandler handler)
    {
        _proximo = handler;
    }

    public abstract void Processar(Comentario comentario);
}

// Handlers concretos
public class ValidadorSpam : ComentarioHandler
{
    public override void Processar(Comentario c)
    {
        if (c.Texto.Contains("SPAM"))
        {
            Console.WriteLine("üõ°Ô∏è SPAM bloqueado!");
            return; // Para aqui, n√£o passa adiante
        }
        _proximo?.Processar(c); // Passa pra frente
    }
}

public class ValidadorPalavrao : ComentarioHandler
{
    public override void Processar(Comentario c)
    {
        if (c.Texto.Contains("palavr√£o"))
        {
            c.Texto = c.Texto.Replace("palavr√£o", "***");
        }
        _proximo?.Processar(c);
    }
}

public class SalvadorBanco : ComentarioHandler
{
    public override void Processar(Comentario c)
    {
        Console.WriteLine("üíæ Salvando no banco...");
        _proximo?.Processar(c);
    }
}

// Montando a corrente
var spam = new ValidadorSpam();
var palavrao = new ValidadorPalavrao();
var salvar = new SalvadorBanco();

spam.SetProximo(palavrao);
palavrao.SetProximo(salvar);

// Inicia a cadeia!
spam.Processar(new Comentario { Texto = "√ìtimo post!" });</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 13: Refactoring.Guru -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">üìö Recurso Essencial: Refactoring.Guru</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">O melhor site sobre Design Patterns e Refactoring</div>
      </div>
      <div class="slide-content">
        <div style="text-align: center; margin-bottom: 40px;">
          <h2 style="font-size: 3rem; margin: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
            Refactoring.Guru
          </h2>
          <p style="font-size: 1.8rem; margin-top: 10px; color: #666;">
            <a href="https://refactoring.guru" target="_blank" style="color: var(--inteli-purple); text-decoration: none; border-bottom: 2px solid var(--inteli-purple);">
              https://refactoring.guru
            </a>
          </p>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
          <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);">
            <h3 style="margin-top: 0; font-size: 2rem;">‚ú® Por que √© incr√≠vel?</h3>
            <ul style="font-size: 1.4rem; line-height: 2;">
              <li><strong>Visuais incr√≠veis:</strong> Diagramas UML claros e ilustra√ß√µes</li>
              <li><strong>M√∫ltiplas linguagens:</strong> C#, Java, Python, TypeScript, Go, PHP...</li>
              <li><strong>Exemplos pr√°ticos:</strong> C√≥digo antes/depois lado a lado</li>
              <li><strong>Analogias do mundo real:</strong> F√°cil de entender</li>
              <li><strong>Totalmente gr√°tis!</strong> (tem vers√£o paga com mais conte√∫do)</li>
            </ul>
          </div>

          <div style="background: #f8f9fa; padding: 30px; border-radius: 15px; border: 2px solid #e9ecef;">
            <h3 style="margin-top: 0; color: var(--inteli-purple); font-size: 2rem;">üéØ Como usar?</h3>
            <ol style="font-size: 1.4rem; line-height: 2;">
              <li>Acesse <strong>refactoring.guru</strong></li>
              <li>Escolha <strong>"Design Patterns"</strong> no menu</li>
              <li>Selecione a categoria (Criacional, Estrutural, Comportamental)</li>
              <li>Clique no padr√£o que quer estudar</li>
              <li>Escolha sua linguagem favorita (C#!)</li>
            </ol>

            <div style="margin-top: 25px; padding: 15px; background: #e3f2fd; border-left: 5px solid #1976d2; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0; color: #1565c0;">
                <strong>üí° Dica:</strong> Use para revisar TODOS os padr√µes que vimos hoje com exemplos visuais!
              </p>
            </div>
          </div>
        </div>

        <div style="margin-top: 35px; padding: 25px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; color: white; text-align: center; box-shadow: 0 10px 25px rgba(245, 87, 108, 0.3);">
          <h3 style="margin: 0 0 15px 0; font-size: 2rem;">üöÄ Links Diretos dos Padr√µes que Vimos:</h3>
          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; font-size: 1.3rem;">
            <a href="https://refactoring.guru/design-patterns/singleton" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Singleton</a>
            <a href="https://refactoring.guru/design-patterns/factory-method" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Factory Method</a>
            <a href="https://refactoring.guru/design-patterns/observer" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Observer</a>
            <a href="https://refactoring.guru/design-patterns/strategy" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Strategy</a>
            <a href="https://refactoring.guru/design-patterns/decorator" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Decorator</a>
            <a href="https://refactoring.guru/design-patterns/adapter" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Adapter</a>
            <a href="https://refactoring.guru/design-patterns/chain-of-responsibility" target="_blank" style="color: white; text-decoration: none; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; transition: all 0.3s;">Chain of Responsibility</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 14: Padr√µes no Sistema de Blog -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Padr√µes no Sistema de Blog/Analytics</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Aplicando GoF na pr√°tica</div>
      </div>
      <div class="slide-content">
        <h2 style="text-align: center; margin-bottom: 30px;">Como os padr√µes aparecem no nosso projeto?</h2>

        <div class="pattern-grid">
          <div class="pattern-card creational">
            <h3>Factory Method</h3>
            <p><strong>Onde:</strong> Cria√ß√£o de notifica√ß√µes (Email, SMS, Push)</p>
            <p style="margin-top: 10px; font-size: 1.1rem;">Permite adicionar novos tipos de notifica√ß√£o sem modificar c√≥digo existente.</p>
          </div>

          <div class="pattern-card behavioral">
            <h3>Observer</h3>
            <p><strong>Onde:</strong> Sistema de eventos Kafka</p>
            <p style="margin-top: 10px; font-size: 1.1rem;">Coment√°rio criado ‚Üí Analytics, Modera√ß√£o e Dashboard s√£o notificados.</p>
          </div>

          <div class="pattern-card behavioral">
            <h3>Strategy</h3>
            <p><strong>Onde:</strong> An√°lise de sentimento</p>
            <p style="margin-top: 10px; font-size: 1.1rem;">Diferentes algoritmos de an√°lise podem ser trocados dinamicamente.</p>
          </div>

          <div class="pattern-card structural">
            <h3>Decorator</h3>
            <p><strong>Onde:</strong> Pipeline de processamento de coment√°rios</p>
            <p style="margin-top: 10px; font-size: 1.1rem;">Filtro de spam, valida√ß√£o, logging - empilhados como decorators.</p>
          </div>

          <div class="pattern-card creational">
            <h3>Singleton</h3>
            <p><strong>Onde:</strong> Configura√ß√£o global, Logger</p>
            <p style="margin-top: 10px; font-size: 1.1rem;">Uma √∫nica inst√¢ncia de configura√ß√£o compartilhada por toda a aplica√ß√£o.</p>
          </div>

          <div class="pattern-card structural">
            <h3>Adapter</h3>
            <p><strong>Onde:</strong> Integra√ß√£o com APIs externas</p>
            <p style="margin-top: 10px; font-size: 1.1rem;">Adaptar API de terceiros para nossa interface interna.</p>
          </div>
        </div>

        <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-left: 5px solid #8e24aa; border-radius: 8px;">
          <p style="font-size: 1.3rem; margin: 0;">
            <strong>üí° Insight:</strong> Padr√µes n√£o s√£o usados isoladamente. Na pr√°tica, voc√™ combina v√°rios padr√µes para resolver problemas complexos!
          </p>
        </div>
      </div>
    </div>

    <!-- Slide 15: Tend√™ncias Modernas -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">
        <div class="slide-title">üöÄ Padr√µes Modernos (2020+)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">O que h√° de novo no mundo dos Design Patterns</div>
      </div>
      <div class="slide-content">
        <h2 style="text-align: center; margin-bottom: 30px;">A GoF ainda √© relevante, mas o mundo evoluiu!</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
          <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px;">
            <h3 style="margin-top: 0; font-size: 2rem;">üÜï Novas Tend√™ncias</h3>
            <ul style="font-size: 1.4rem; line-height: 2;">
              <li><strong>Functional Patterns:</strong> Imutabilidade, Pattern Matching</li>
              <li><strong>Event Sourcing & CQRS:</strong> Auditoria total, escalabilidade</li>
              <li><strong>Microservices Patterns:</strong> Resili√™ncia distribu√≠da</li>
              <li><strong>Cloud-Native:</strong> Serverless, containers</li>
              <li><strong>Modern C# Features:</strong> Records, init-only, pattern matching</li>
            </ul>
          </div>

          <div style="background: #f8f9fa; padding: 30px; border-radius: 15px; border: 2px solid #e9ecef;">
            <h3 style="margin-top: 0; color: var(--inteli-purple); font-size: 2rem;">üéØ Por que importa?</h3>
            <ul style="font-size: 1.4rem; line-height: 2;">
              <li>Sistemas distribu√≠dos s√£o a norma</li>
              <li>Cloud-first architecture</li>
              <li>Requisitos de escala massiva</li>
              <li>Observabilidade e resili√™ncia</li>
              <li>Developer Experience (DX)</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e8f5e9; border-left: 5px solid #4caf50; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0; color: #2e7d32;">
                <strong>üí° Insight:</strong> GoF + Padr√µes Modernos = Arquitetura de ponta!
              </p>
            </div>
          </div>
        </div>

        <div style="margin-top: 35px; padding: 25px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; color: white; text-align: center;">
          <h3 style="margin: 0 0 15px 0; font-size: 2rem;">üìö Vamos explorar os 4 principais:</h3>
          <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; font-size: 1.4rem; margin-top: 20px;">
            <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">Modern C# Patterns</div>
            <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">Event Sourcing & CQRS</div>
            <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">Microservices Patterns</div>
            <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px;">Functional Patterns</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 16: Modern C# Patterns -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="slide-title">Modern C# Patterns (C# 9-12)</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Pattern Matching, Records e mais</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que mudou?</h3>
            <p style="font-size: 1.4rem;">C# moderno trouxe features que mudam como escrevemos padr√µes!</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Exemplo L√∫dico:</strong> Antes voc√™ precisava de 50 linhas pra fazer algo que agora faz em 5! √â como trocar uma bicicleta por um carro.
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Principais Features:</h3>
            <ul style="font-size: 1.3rem;">
              <li><strong>Records:</strong> Imutabilidade f√°cil</li>
              <li><strong>Pattern Matching:</strong> Switch statements on steroids</li>
              <li><strong>Init-only properties:</strong> Imutabilidade ap√≥s constru√ß√£o</li>
              <li><strong>Nullable Reference Types:</strong> Adeus NullReferenceException!</li>
            </ul>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// ‚úÖ ANTES (C# 7): Muito c√≥digo!
public class Comentario
{
    public int Id { get; set; }
    public string Texto { get; set; }
    public DateTime DataCriacao { get; set; }

    public override bool Equals(object obj) { /* 20 linhas */ }
    public override int GetHashCode() { /* 10 linhas */ }
}

// ‚úÖ AGORA (C# 12): Records!
public record Comentario(int Id, string Texto, DateTime DataCriacao);
// Imut√°vel, com Equals/GetHashCode autom√°ticos!

// ‚úÖ Pattern Matching avan√ßado
string AnalisarComentario(Comentario c) => c switch
{
    { Texto.Length: > 500 } => "Muito longo!",
    { Texto: var t } when t.Contains("spam") => "SPAM detectado",
    { DataCriacao: var d } when d > DateTime.Now.AddDays(-1)
        => "Coment√°rio recente",
    _ => "Coment√°rio normal"
};

// ‚úÖ Null Safety
public class Blog
{
    public required string Titulo { get; init; } // Obrigat√≥rio!
    public string? Subtitulo { get; init; }      // Pode ser null

    public void Processar()
    {
        // Compiler avisa se n√£o checar null!
        if (Subtitulo is not null)
        {
            Console.WriteLine(Subtitulo.ToUpper());
        }
    }
}</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 17: Event Sourcing - Introdu√ß√£o -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">
        <div class="slide-title">üìº Event Sourcing - Introdu√ß√£o</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">A fonte da verdade s√£o os eventos, n√£o o estado</div>
      </div>
      <div class="slide-content">
        <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); padding: 30px; border-radius: 15px; margin-bottom: 25px;">
          <h2 style="margin-top: 0; color: #e65100; font-size: 2.5rem;">O que √© Event Sourcing?</h2>
          <p style="font-size: 1.5rem; line-height: 1.8;">
            Ao inv√©s de salvar o <strong>estado atual</strong> das entidades no banco de dados, salvamos a <strong>sequ√™ncia de eventos</strong> que levaram a esse estado.
          </p>
        </div>

        <div style="margin-top: 20px; padding: 20px; background: #fff9c4; border-left: 6px solid #fbc02d; border-radius: 10px;">
          <h3 style="margin-top: 0; font-size: 2rem;">üéØ Analogia L√∫dica: Conta Banc√°ria</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 15px;">
            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #d32f2f; margin-top: 0;">‚ùå Abordagem Tradicional (CRUD)</h4>
              <div style="font-size: 1.3rem; font-family: monospace; background: #f5f5f5; padding: 15px; border-radius: 5px;">
                <div>Conta { Id: 123, Saldo: 1500.00 }</div>
              </div>
              <p style="font-size: 1.2rem; margin-top: 10px; color: #666;">
                üò¢ Perdemos o hist√≥rico! Como chegamos em R$ 1.500?
              </p>
            </div>

            <div style="background: white; padding: 20px; border-radius: 10px;">
              <h4 style="color: #2e7d32; margin-top: 0;">‚úÖ Event Sourcing</h4>
              <div style="font-size: 1.3rem; font-family: monospace; background: #f5f5f5; padding: 15px; border-radius: 5px; line-height: 1.8;">
                <div>+ ContaCriada { valor: 0 }</div>
                <div>+ Deposito { valor: 2000 }</div>
                <div>+ Saque { valor: 300 }</div>
                <div>+ Saque { valor: 200 }</div>
                <div style="margin-top: 10px; color: #2e7d32;"><strong>= Saldo: 1500</strong></div>
              </div>
              <p style="font-size: 1.2rem; margin-top: 10px; color: #666;">
                üéâ Auditoria completa! Sabemos tudo que aconteceu!
              </p>
            </div>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 25px;">
          <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; border-left: 5px solid #4caf50;">
            <h4 style="margin-top: 0; color: #2e7d32;">‚úÖ Vantagens</h4>
            <ul style="font-size: 1.3rem; line-height: 1.8;">
              <li><strong>Auditoria Total:</strong> Quem, quando, o qu√™</li>
              <li><strong>Time Travel:</strong> Estado em qualquer momento</li>
              <li><strong>Debugging:</strong> Replay de eventos</li>
              <li><strong>Event-Driven:</strong> Integra√ß√£o natural</li>
              <li><strong>M√∫ltiplas Proje√ß√µes:</strong> Diferentes vis√µes</li>
            </ul>
          </div>

          <div style="background: #ffebee; padding: 20px; border-radius: 10px; border-left: 5px solid #f44336;">
            <h4 style="margin-top: 0; color: #c62828;">‚ö†Ô∏è Desvantagens</h4>
            <ul style="font-size: 1.3rem; line-height: 1.8;">
              <li><strong>Complexidade:</strong> Curva de aprendizado</li>
              <li><strong>Performance:</strong> Replay pode ser lento</li>
              <li><strong>Storage:</strong> Mais espa√ßo em disco</li>
              <li><strong>Queries:</strong> N√£o √© direto como SQL</li>
              <li><strong>Eventual Consistency:</strong> Nem sempre imediato</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 18: Event Sourcing - Implementa√ß√£o -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">
        <div class="slide-title">üìº Event Sourcing - Implementa√ß√£o em C#</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">C√≥digo real de Event Sourcing para coment√°rios de blog</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
          <div>
            <h3 style="color: #e65100; margin-top: 0;">1Ô∏è‚É£ Definir os Eventos</h3>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.95rem;"><code>// Base para todos os eventos
public abstract record DomainEvent
{
    public Guid Id { get; init; } = Guid.NewGuid();
    public DateTime Timestamp { get; init; } = DateTime.UtcNow;
    public string Usuario { get; init; }
}

// Eventos espec√≠ficos
public record ComentarioCriadoEvent(
    int ComentarioId,
    int PostId,
    string Texto,
    string Usuario
) : DomainEvent;

public record ComentarioEditadoEvent(
    int ComentarioId,
    string NovoTexto,
    string Usuario
) : DomainEvent;

public record ComentarioExcluidoEvent(
    int ComentarioId,
    string Motivo,
    string Usuario
) : DomainEvent;

public record ComentarioCurtidoEvent(
    int ComentarioId,
    string Usuario
) : DomainEvent;</code></pre>
              </div>
            </div>
          </div>

          <div>
            <h3 style="color: #e65100; margin-top: 0;">2Ô∏è‚É£ Aggregate Root</h3>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.95rem;"><code>public class Comentario
{
    // Estado atual (calculado dos eventos)
    public int Id { get; private set; }
    public string Texto { get; private set; }
    public bool Excluido { get; private set; }
    public int Curtidas { get; private set; }

    // Lista de eventos n√£o commitados
    private List&lt;DomainEvent&gt; _eventos = new();
    public IReadOnlyList&lt;DomainEvent&gt; EventosNaoCommitados
        => _eventos.AsReadOnly();

    // Construtor para criar novo coment√°rio
    public static Comentario Criar(int id, int postId,
                                    string texto, string usuario)
    {
        var comentario = new Comentario();
        comentario.Apply(new ComentarioCriadoEvent(
            id, postId, texto, usuario));
        return comentario;
    }

    // Aplicar evento (muda o estado)
    public void Apply(DomainEvent evento)
    {
        When(evento); // Muda o estado
        _eventos.Add(evento); // Guarda evento
    }

    // L√≥gica de como cada evento muda o estado
    private void When(DomainEvent evento)
    {
        switch (evento)
        {
            case ComentarioCriadoEvent e:
                Id = e.ComentarioId;
                Texto = e.Texto;
                break;
            case ComentarioEditadoEvent e:
                Texto = e.NovoTexto;
                break;
            case ComentarioExcluidoEvent:
                Excluido = true;
                break;
            case ComentarioCurtidoEvent:
                Curtidas++;
                break;
        }
    }

    // Reconstruir do hist√≥rico de eventos
    public static Comentario FromEvents(
        IEnumerable&lt;DomainEvent&gt; eventos)
    {
        var comentario = new Comentario();
        foreach (var evento in eventos)
        {
            comentario.When(evento); // SEM adicionar √† lista
        }
        return comentario;
    }
}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 25px; background: #e3f2fd; padding: 20px; border-radius: 10px;">
          <h3 style="color: #1565c0; margin-top: 0;">3Ô∏è‚É£ Usando o Aggregate</h3>
          <div class="code-container">
            <div class="code-content">
              <pre style="font-size: 1rem;"><code>// Criar novo coment√°rio
var comentario = Comentario.Criar(1, postId: 42, "√ìtimo artigo!", "joao@email.com");
await eventStore.Save(comentario); // Salva eventos no Event Store

// Editar coment√°rio
var eventos = await eventStore.GetEvents(comentarioId: 1);
var comentario = Comentario.FromEvents(eventos); // Reconstr√≥i do hist√≥rico
comentario.Apply(new ComentarioEditadoEvent(1, "Artigo excelente!", "joao@email.com"));
await eventStore.Save(comentario);

// Ver hist√≥rico completo
var todosEventos = await eventStore.GetEvents(comentarioId: 1);
// ComentarioCriadoEvent -> ComentarioEditadoEvent</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 19: Event Sourcing - Event Store e Snapshots -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">
        <div class="slide-title">üìº Event Store & Snapshots</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Armazenamento e otimiza√ß√£o de eventos</div>
      </div>
      <div class="slide-content">
        <h3 style="color: #e65100; margin-top: 0;">Event Store - Onde Salvar os Eventos?</h3>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 25px;">
          <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; border-left: 5px solid #1976d2;">
            <h4 style="margin-top: 0; color: #1565c0;">üóÑÔ∏è SQL Relacional</h4>
            <p style="font-size: 1.2rem;">PostgreSQL, SQL Server</p>
            <div style="font-size: 1.1rem; margin-top: 10px;">
              ‚úÖ Transa√ß√µes ACID<br>
              ‚úÖ Queries complexas<br>
              ‚ö†Ô∏è Performance em escala
            </div>
          </div>

          <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; border-left: 5px solid #4caf50;">
            <h4 style="margin-top: 0; color: #2e7d32;">üì¶ Event Store DB</h4>
            <p style="font-size: 1.2rem;">EventStoreDB (Greg Young)</p>
            <div style="font-size: 1.1rem; margin-top: 10px;">
              ‚úÖ Otimizado pra eventos<br>
              ‚úÖ Projections nativas<br>
              ‚úÖ Subscriptions
            </div>
          </div>

          <div style="background: #fff3e0; padding: 20px; border-radius: 10px; border-left: 5px solid #ff9800;">
            <h4 style="margin-top: 0; color: #e65100;">‚òÅÔ∏è Cloud Native</h4>
            <p style="font-size: 1.2rem;">Azure Event Store, Kafka</p>
            <div style="font-size: 1.1rem; margin-top: 10px;">
              ‚úÖ Escalabilidade<br>
              ‚úÖ Managed service<br>
              ‚ö†Ô∏è Custo
            </div>
          </div>
        </div>

        <div style="background: linear-gradient(135deg, #fffde7 0%, #fff9c4 100%); padding: 25px; border-radius: 15px; border-left: 6px solid #fbc02d; margin-bottom: 25px;">
          <h3 style="margin-top: 0; color: #f57f17;">‚ö° Problema: E se tiver 10.000 eventos?</h3>
          <p style="font-size: 1.4rem;">
            Replay de 10.000 eventos pra reconstruir o estado seria <strong>muito lento!</strong>
          </p>
          <h3 style="color: #f57f17; margin-top: 20px;">üí° Solu√ß√£o: Snapshots!</h3>
          <div style="background: white; padding: 20px; border-radius: 10px; margin-top: 15px;">
            <p style="font-size: 1.3rem; line-height: 1.8; margin: 0;">
              <strong>Snapshot</strong> = Foto do estado em um momento espec√≠fico. <br>
              Ao inv√©s de replay de 10.000 eventos, carrega o snapshot #9000 e s√≥ processa os √∫ltimos 1000!
            </p>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
          <div>
            <h4 style="color: #e65100;">Implementa√ß√£o com Snapshots</h4>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.9rem;"><code>public class ComentarioSnapshot
{
    public int Id { get; set; }
    public string Texto { get; set; }
    public bool Excluido { get; set; }
    public int Curtidas { get; set; }
    public int VersaoEvento { get; set; } // Evento #9000
}

// Repository com Snapshots
public class ComentarioRepository
{
    public async Task&lt;Comentario&gt; GetById(int id)
    {
        // 1. Buscar √∫ltimo snapshot
        var snapshot = await _snapshots.GetLatest(id);

        // 2. Buscar eventos AP√ìS o snapshot
        var eventos = await _eventStore.GetEvents(
            id,
            fromVersion: snapshot?.VersaoEvento ?? 0
        );

        // 3. Reconstruir
        var comentario = snapshot != null
            ? Comentario.FromSnapshot(snapshot)
            : new Comentario();

        foreach (var evento in eventos)
            comentario.When(evento);

        return comentario;
    }

    public async Task Save(Comentario comentario)
    {
        await _eventStore.SaveEvents(
            comentario.EventosNaoCommitados
        );

        // Criar snapshot a cada 100 eventos
        if (comentario.Versao % 100 == 0)
        {
            await _snapshots.Save(
                comentario.ToSnapshot()
            );
        }
    }
}</code></pre>
              </div>
            </div>
          </div>

          <div>
            <h4 style="color: #e65100;">Estrat√©gias de Snapshot</h4>
            <div style="background: #f5f5f5; padding: 20px; border-radius: 10px;">
              <div style="margin-bottom: 20px;">
                <h5 style="color: #1976d2; margin: 0 0 10px 0;">1Ô∏è‚É£ Por Quantidade</h5>
                <p style="font-size: 1.2rem; margin: 0;">
                  Snapshot a cada 100 eventos
                </p>
              </div>

              <div style="margin-bottom: 20px;">
                <h5 style="color: #1976d2; margin: 0 0 10px 0;">2Ô∏è‚É£ Por Tempo</h5>
                <p style="font-size: 1.2rem; margin: 0;">
                  Snapshot di√°rio (00:00)
                </p>
              </div>

              <div style="margin-bottom: 20px;">
                <h5 style="color: #1976d2; margin: 0 0 10px 0;">3Ô∏è‚É£ Por Demanda</h5>
                <p style="font-size: 1.2rem; margin: 0;">
                  Se replay > 5 segundos, cria snapshot
                </p>
              </div>

              <div>
                <h5 style="color: #1976d2; margin: 0 0 10px 0;">4Ô∏è‚É£ H√≠brido</h5>
                <p style="font-size: 1.2rem; margin: 0;">
                  Combina quantidade + tempo
                </p>
              </div>
            </div>

            <div style="margin-top: 20px; background: #fff9c4; padding: 15px; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üéØ Dica:</strong> Snapshots s√£o opcionais! Comece sem eles e adicione s√≥ quando necess√°rio.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 20: CQRS - Introdu√ß√£o -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);">
        <div class="slide-title">üìä CQRS - Introdu√ß√£o</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Command Query Responsibility Segregation</div>
      </div>
      <div class="slide-content">
        <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 30px; border-radius: 15px; margin-bottom: 25px;">
          <h2 style="margin-top: 0; color: #2e7d32; font-size: 2.5rem;">O que √© CQRS?</h2>
          <p style="font-size: 1.5rem; line-height: 1.8;">
            <strong>Separar</strong> as opera√ß√µes de <span style="color: #d32f2f; font-weight: bold;">ESCRITA (Commands)</span> das opera√ß√µes de <span style="color: #1976d2; font-weight: bold;">LEITURA (Queries)</span> usando modelos diferentes.
          </p>
        </div>

        <div style="margin-top: 20px; padding: 20px; background: #fff9c4; border-left: 6px solid #fbc02d; border-radius: 10px;">
          <h3 style="margin-top: 0; font-size: 2rem;">üéØ Analogia L√∫dica: Restaurante</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 15px;">
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #d32f2f;">
              <h4 style="color: #d32f2f; margin-top: 0;">üìù COMMAND (Escrita)</h4>
              <p style="font-size: 1.3rem; line-height: 1.8;">
                <strong>Gar√ßom anota seu pedido</strong><br>
                ‚Ä¢ Valida√ß√£o: ingredientes dispon√≠veis?<br>
                ‚Ä¢ Processamento: envia pra cozinha<br>
                ‚Ä¢ Complexo: v√°rias valida√ß√µes<br>
                ‚Ä¢ Lento: precisa processar tudo
              </p>
              <div style="background: #ffebee; padding: 15px; border-radius: 8px; margin-top: 15px;">
                <code style="font-size: 1.2rem;">
                  CriarPedidoCommand ‚Üí Validar ‚Üí Processar ‚Üí Salvar
                </code>
              </div>
            </div>

            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #1976d2;">
              <h4 style="color: #1976d2; margin-top: 0;">üîç QUERY (Leitura)</h4>
              <p style="font-size: 1.3rem; line-height: 1.8;">
                <strong>Menu j√° est√° pronto</strong><br>
                ‚Ä¢ Sem valida√ß√£o: s√≥ consulta<br>
                ‚Ä¢ Otimizado: dados j√° preparados<br>
                ‚Ä¢ Simples: retorna informa√ß√£o<br>
                ‚Ä¢ R√°pido: sem processamento
              </p>
              <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-top: 15px;">
                <code style="font-size: 1.2rem;">
                  GetMenuQuery ‚Üí Cache ‚Üí Retorna JSON
                </code>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 25px; background: #e1f5fe; padding: 25px; border-radius: 15px;">
          <h3 style="color: #01579b; margin-top: 0;">‚öñÔ∏è Problema do Modelo √önico (CRUD Tradicional)</h3>
          <div class="code-container">
            <div class="code-content">
              <pre style="font-size: 1rem;"><code>// ‚ùå Mesmo modelo pra TUDO = Conflito!
public class Comentario
{
    public int Id { get; set; }
    public string Texto { get; set; }           // Leitura precisa?
    public int PostId { get; set; }              // Leitura precisa?
    public int AutorId { get; set; }             // ‚ùå Leitura quer o NOME, n√£o o ID!
    public DateTime DataCriacao { get; set; }

    // Navega√ß√£o pra queries (overhead na escrita!)
    public virtual Post Post { get; set; }       // ‚ùå Lazy loading = N+1 queries
    public virtual Usuario Autor { get; set; }   // ‚ùå JOINs pesados
    public virtual ICollection&lt;Curtida&gt; Curtidas { get; set; } // ‚ùå Contagem lenta
}

// Queries ficam lentas e complexas
var comentarios = await _context.Comentarios
    .Include(c => c.Autor)      // JOIN 1
    .Include(c => c.Post)       // JOIN 2
    .Include(c => c.Curtidas)   // JOIN 3 + COUNT
    .Where(c => c.PostId == postId)
    .ToListAsync(); // üò± LENTO!</code></pre>
            </div>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 25px;">
          <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; border-left: 5px solid #4caf50;">
            <h4 style="margin-top: 0; color: #2e7d32;">‚úÖ Vantagens do CQRS</h4>
            <ul style="font-size: 1.3rem; line-height: 1.8;">
              <li><strong>Performance:</strong> Queries otimizadas</li>
              <li><strong>Escalabilidade:</strong> Escalar leitura separado</li>
              <li><strong>Flexibilidade:</strong> M√∫ltiplas proje√ß√µes</li>
              <li><strong>Simplicidade:</strong> Modelos focados</li>
              <li><strong>Cache:</strong> F√°cil cachear queries</li>
            </ul>
          </div>

          <div style="background: #ffebee; padding: 20px; border-radius: 10px; border-left: 5px solid #f44336;">
            <h4 style="margin-top: 0; color: #c62828;">‚ö†Ô∏è Desvantagens</h4>
            <ul style="font-size: 1.3rem; line-height: 1.8;">
              <li><strong>Complexidade:</strong> Dois modelos pra manter</li>
              <li><strong>Eventual Consistency:</strong> Delay na sincronia</li>
              <li><strong>Duplica√ß√£o:</strong> Mais c√≥digo</li>
              <li><strong>Learning Curve:</strong> Paradigma diferente</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 21: CQRS - Implementa√ß√£o -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);">
        <div class="slide-title">üìä CQRS - Implementa√ß√£o em C#</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">C√≥digo real com MediatR e modelos separados</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
          <div>
            <h3 style="color: #d32f2f; margin-top: 0;">üìù WRITE SIDE (Commands)</h3>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.85rem;"><code>// Modelo de ESCRITA (domain model)
public class Comentario
{
    public int Id { get; private set; }
    public string Texto { get; private set; }
    public int PostId { get; private set; }
    public int AutorId { get; private set; }

    // M√©todos de neg√≥cio
    public void Editar(string novoTexto)
    {
        if (string.IsNullOrWhiteSpace(novoTexto))
            throw new ArgumentException("Texto inv√°lido");
        Texto = novoTexto;
    }
}

// Command (inten√ß√£o de mudar o estado)
public record CriarComentarioCommand(
    int PostId,
    string Texto,
    int AutorId
) : IRequest&lt;int&gt;;

// Handler do Command
public class CriarComentarioHandler
    : IRequestHandler&lt;CriarComentarioCommand, int&gt;
{
    private readonly DbContext _db;

    public async Task&lt;int&gt; Handle(
        CriarComentarioCommand cmd,
        CancellationToken ct)
    {
        // Valida√ß√µes de neg√≥cio
        var post = await _db.Posts
            .FindAsync(cmd.PostId);
        if (post == null)
            throw new NotFoundException();

        if (!post.AceitaComentarios)
            throw new BusinessException(
                "Post n√£o aceita coment√°rios"
            );

        // Criar entidade
        var comentario = new Comentario
        {
            PostId = cmd.PostId,
            Texto = cmd.Texto,
            AutorId = cmd.AutorId
        };

        _db.Comentarios.Add(comentario);
        await _db.SaveChangesAsync(ct);

        // Publicar evento para atualizar read model
        await _bus.Publish(
            new ComentarioCriadoEvent(comentario.Id)
        );

        return comentario.Id;
    }
}</code></pre>
              </div>
            </div>
          </div>

          <div>
            <h3 style="color: #1976d2; margin-top: 0;">üîç READ SIDE (Queries)</h3>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.85rem;"><code>// Modelo de LEITURA (view model) - OTIMIZADO!
public class ComentarioListItemDto
{
    public int Id { get; set; }
    public string TextoResumo { get; set; } // S√≥ 100 chars
    public string AutorNome { get; set; }   // J√Å TEM O NOME!
    public string AutorAvatar { get; set; } // URL do avatar
    public DateTime DataCriacao { get; set; }
    public int TotalCurtidas { get; set; }  // J√Å CALCULADO!
    public bool CurtidoPorMim { get; set; } // Pro usu√°rio atual
}

// Query (pergunta, n√£o muda nada)
public record GetComentariosQuery(
    int PostId,
    int UsuarioAtualId
) : IRequest&lt;List&lt;ComentarioListItemDto&gt;&gt;;

// Handler da Query
public class GetComentariosHandler
    : IRequestHandler&lt;GetComentariosQuery,
                      List&lt;ComentarioListItemDto&gt;&gt;
{
    private readonly IReadDbContext _readDb;

    public async Task&lt;List&lt;ComentarioListItemDto&gt;&gt; Handle(
        GetComentariosQuery query,
        CancellationToken ct)
    {
        // Consulta OTIMIZADA no read model
        // (que j√° est√° desnormalizado!)
        return await _readDb.ComentariosView
            .Where(c => c.PostId == query.PostId)
            .OrderByDescending(c => c.DataCriacao)
            .ToListAsync(ct);

        // SEM JOINS! SEM INCLUDE! Tudo pronto! üöÄ
    }
}

// Uso no Controller
[ApiController]
[Route("api/posts/{postId}/comentarios")]
public class ComentariosController : ControllerBase
{
    private readonly IMediator _mediator;

    [HttpGet]
    public async Task&lt;IActionResult&gt; Get(int postId)
    {
        var query = new GetComentariosQuery(
            postId,
            User.GetUserId()
        );
        var result = await _mediator.Send(query);
        return Ok(result);
    }

    [HttpPost]
    public async Task&lt;IActionResult&gt; Post(
        int postId,
        [FromBody] CriarComentarioDto dto)
    {
        var command = new CriarComentarioCommand(
            postId,
            dto.Texto,
            User.GetUserId()
        );
        var id = await _mediator.Send(command);
        return CreatedAtAction(nameof(Get), new { id }, null);
    }
}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 25px; background: #fff3e0; padding: 20px; border-radius: 10px;">
          <h3 style="color: #e65100; margin-top: 0;">üîÑ Sincroniza√ß√£o: Write Model ‚Üí Read Model</h3>
          <div class="code-container">
            <div class="code-content">
              <pre style="font-size: 0.95rem;"><code>// Event Handler que atualiza o Read Model
public class ComentarioCriadoEventHandler : INotificationHandler&lt;ComentarioCriadoEvent&gt;
{
    private readonly IReadDbContext _readDb;

    public async Task Handle(ComentarioCriadoEvent evt, CancellationToken ct)
    {
        // Buscar dados completos do write model
        var comentario = await _writeDb.Comentarios
            .Include(c => c.Autor)
            .Include(c => c.Post)
            .FirstAsync(c => c.Id == evt.ComentarioId, ct);

        // Criar registro no read model (desnormalizado)
        var viewModel = new ComentarioListItemDto
        {
            Id = comentario.Id,
            TextoResumo = comentario.Texto.Substring(0, Math.Min(100, comentario.Texto.Length)),
            AutorNome = comentario.Autor.Nome,      // ‚úÖ Desnormalizado!
            AutorAvatar = comentario.Autor.AvatarUrl,
            DataCriacao = comentario.DataCriacao,
            TotalCurtidas = 0
        };

        await _readDb.ComentariosView.AddAsync(viewModel, ct);
        await _readDb.SaveChangesAsync(ct);
    }
}</code></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 22: CQRS + Event Sourcing -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="slide-title">üöÄ CQRS + Event Sourcing Juntos</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">O casamento perfeito para sistemas complexos</div>
      </div>
      <div class="slide-content">
        <div style="background: linear-gradient(135deg, #fff9c4 0%, #ffe082 100%); padding: 25px; border-radius: 15px; margin-bottom: 25px;">
          <h2 style="margin-top: 0; color: #f57f17; font-size: 2.2rem;">üí° Por que combinar?</h2>
          <p style="font-size: 1.4rem; line-height: 1.8;">
            <strong>Event Sourcing</strong> cuida do WRITE (salva eventos).<br>
            <strong>CQRS</strong> cuida do READ (projeta eventos em views otimizadas).
          </p>
        </div>

        <div style="background: white; padding: 25px; border-radius: 15px; border: 3px solid #667eea; margin-bottom: 25px;">
          <h3 style="color: #667eea; margin-top: 0; text-align: center; font-size: 2rem;">üèóÔ∏è Arquitetura Completa</h3>
          <div style="font-family: monospace; font-size: 1.1rem; line-height: 2.2; background: #f5f5f5; padding: 25px; border-radius: 10px;">
            <div style="text-align: center; color: #d32f2f; font-weight: bold; font-size: 1.3rem; margin-bottom: 15px;">
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ WRITE SIDE (Commands) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            </div>
            <div style="padding-left: 20px;">
              <div>üìù Command ‚Üí CommandHandler ‚Üí <strong style="color: #ff9800;">Aggregate</strong></div>
              <div style="margin-left: 40px;">‚Üì</div>
              <div><strong style="color: #ff9800;">Aggregate</strong> gera ‚Üí <strong style="color: #f57c00;">DomainEvents</strong></div>
              <div style="margin-left: 40px;">‚Üì</div>
              <div><strong style="color: #f57c00;">Events</strong> salvos em ‚Üí <strong style="color: #e65100;">EventStore</strong></div>
              <div style="margin-left: 40px;">‚Üì</div>
              <div><strong style="color: #e65100;">EventStore</strong> publica ‚Üí <strong style="color: #d84315;">Event Bus</strong> (Kafka/RabbitMQ)</div>
            </div>

            <div style="text-align: center; color: #1976d2; font-weight: bold; font-size: 1.3rem; margin: 25px 0 15px 0;">
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò<br>
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ READ SIDE (Queries) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            </div>
            <div style="padding-left: 20px;">
              <div><strong style="color: #d84315;">Event Bus</strong> ‚Üí <strong style="color: #1976d2;">Projections</strong> (Event Handlers)</div>
              <div style="margin-left: 40px;">‚Üì</div>
              <div><strong style="color: #1976d2;">Projections</strong> atualizam ‚Üí <strong style="color: #0277bd;">Read Database</strong> (Views)</div>
              <div style="margin-left: 40px;">‚Üì</div>
              <div>üîç Query ‚Üí QueryHandler ‚Üí <strong style="color: #0277bd;">Read Database</strong> ‚Üí DTO</div>
            </div>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
          <div style="background: #ffebee; padding: 20px; border-radius: 10px;">
            <h4 style="color: #c62828; margin-top: 0;">üìù WRITE: Event Sourcing</h4>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.85rem;"><code>// 1. Command
var command = new CriarComentarioCommand(
    postId: 42,
    texto: "√ìtimo!"
);

// 2. Aggregate processa
var comentario = Comentario.Criar(command);

// 3. Eventos gerados
// ‚Üí ComentarioCriadoEvent

// 4. Salvos no EventStore
await eventStore.Save(comentario.Events);

// 5. Publicados no bus
await bus.Publish(comentario.Events);</code></pre>
              </div>
            </div>
          </div>

          <div style="background: #e3f2fd; padding: 20px; border-radius: 10px;">
            <h4 style="color: #1565c0; margin-top: 0;">üîç READ: Projections</h4>
            <div class="code-container">
              <div class="code-content">
                <pre style="font-size: 0.85rem;"><code>// 1. Escuta eventos do bus
public class ComentarioProjection
{
    public async Task On(ComentarioCriadoEvent e)
    {
        // 2. Atualiza view otimizada
        await _readDb.Execute(@"
            INSERT INTO ComentariosView
            (Id, Texto, AutorNome, PostTitulo, Curtidas)
            VALUES
            (@Id, @Texto,
             (SELECT Nome FROM Usuarios WHERE Id = @AutorId),
             (SELECT Titulo FROM Posts WHERE Id = @PostId),
             0
            )", e);
    }
}

// 3. Query super r√°pida!
var comentarios = await _readDb
    .ComentariosView
    .Where(c => c.PostId == 42)
    .ToListAsync(); // Sem JOINs! üöÄ</code></pre>
              </div>
            </div>
          </div>
        </div>

        <div style="margin-top: 25px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
          <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; text-align: center;">
            <h4 style="color: #2e7d32; margin-top: 0; font-size: 1.5rem;">üéØ Auditoria Total</h4>
            <p style="font-size: 1.2rem;">Todos os eventos salvos = hist√≥rico completo</p>
          </div>
          <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; text-align: center;">
            <h4 style="color: #1565c0; margin-top: 0; font-size: 1.5rem;">‚ö° Performance</h4>
            <p style="font-size: 1.2rem;">Queries otimizadas sem JOINs complexos</p>
          </div>
          <div style="background: #fff3e0; padding: 20px; border-radius: 10px; text-align: center;">
            <h4 style="color: #e65100; margin-top: 0; font-size: 1.5rem;">üìä M√∫ltiplas Views</h4>
            <p style="font-size: 1.2rem;">Mesmos eventos, v√°rias proje√ß√µes diferentes</p>
          </div>
        </div>

        <div style="margin-top: 25px; background: #fff9c4; padding: 20px; border-radius: 10px; border-left: 6px solid #fbc02d;">
          <h4 style="color: #f57f17; margin-top: 0;">üéØ Quando usar esta arquitetura?</h4>
          <ul style="font-size: 1.3rem; line-height: 1.8;">
            <li>‚úÖ Sistemas financeiros (auditoria cr√≠tica)</li>
            <li>‚úÖ E-commerce (hist√≥rico de pedidos/estoque)</li>
            <li>‚úÖ Analytics em tempo real (dashboards)</li>
            <li>‚úÖ Sistemas colaborativos (tracking de mudan√ßas)</li>
            <li>‚ùå CRUD simples (overkill!)</li>
            <li>‚ùå Prototipagem r√°pida (muita complexidade)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Slide 23: Microservices Patterns -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
        <div class="slide-title">Microservices Patterns</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Resili√™ncia em sistemas distribu√≠dos</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px;">
          <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; border-left: 6px solid #1976d2;">
            <h3 style="margin-top: 0; color: #1565c0;">‚ö° Circuit Breaker</h3>
            <p style="font-size: 1.3rem;">Protege o sistema quando um servi√ßo falha.</p>

            <div style="margin-top: 15px; padding: 12px; background: #fff9c4; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üéØ Analogia:</strong> Disjuntor de casa! Se sobrecarrega, desliga automaticamente e protege.
              </p>
            </div>

            <div class="code-container" style="margin-top: 15px;">
              <div class="code-content">
                <pre style="font-size: 0.9rem;"><code>// Polly library em C#
var circuitBreaker = Policy
    .Handle&lt;HttpRequestException&gt;()
    .CircuitBreakerAsync(
        handledEventsAllowedBeforeBreaking: 3,
        durationOfBreak: TimeSpan.FromSeconds(30)
    );

await circuitBreaker.ExecuteAsync(async () =>
{
    return await httpClient.GetAsync("/api/comentarios");
});</code></pre>
              </div>
            </div>
          </div>

          <div style="background: #ede7f6; padding: 25px; border-radius: 12px; border-left: 6px solid #5e35b1;">
            <h3 style="margin-top: 0; color: #4527a0;">üîÑ Saga Pattern</h3>
            <p style="font-size: 1.3rem;">Transa√ß√µes distribu√≠das entre microservices.</p>

            <div style="margin-top: 15px; padding: 12px; background: #fff9c4; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üéØ Analogia:</strong> Reservar viagem: se hotel falhar, cancela voo automaticamente!
              </p>
            </div>

            <p style="font-size: 1.2rem; margin-top: 15px;"><strong>Exemplo:</strong> Criar post + notificar + indexar</p>
            <ul style="font-size: 1.2rem;">
              <li>‚úÖ Etapa 1: Criar post</li>
              <li>‚úÖ Etapa 2: Enviar notifica√ß√µes</li>
              <li>‚ùå Etapa 3: Indexar busca (FALHOU!)</li>
              <li>‚è™ Compensa√ß√£o: Desfaz 1 e 2</li>
            </ul>
          </div>

          <div style="background: #e8f5e9; padding: 25px; border-radius: 12px; border-left: 6px solid #2e7d32;">
            <h3 style="margin-top: 0; color: #1b5e20;">üö™ API Gateway</h3>
            <p style="font-size: 1.3rem;">Ponto √∫nico de entrada para N microservices.</p>

            <div style="margin-top: 15px; padding: 12px; background: #fff9c4; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üéØ Analogia:</strong> Recepcionista do pr√©dio - direciona voc√™ pro departamento certo!
              </p>
            </div>

            <ul style="font-size: 1.2rem; margin-top: 15px;">
              <li>Roteamento inteligente</li>
              <li>Autentica√ß√£o centralizada</li>
              <li>Rate limiting</li>
              <li>Cache & transforma√ß√£o</li>
            </ul>
          </div>

          <div style="background: #fff3e0; padding: 25px; border-radius: 12px; border-left: 6px solid #ff9800;">
            <h3 style="margin-top: 0; color: #e65100;">üì¶ Strangler Fig</h3>
            <p style="font-size: 1.3rem;">Migra√ß√£o gradual de monolito ‚Üí microservices.</p>

            <div style="margin-top: 15px; padding: 12px; background: #fff9c4; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üéØ Analogia:</strong> Como a figueira-estranguladora: cresce em volta da √°rvore antiga at√© substitu√≠-la!
              </p>
            </div>

            <ul style="font-size: 1.2rem; margin-top: 15px;">
              <li>Migra feature por feature</li>
              <li>Zero downtime</li>
              <li>Rollback f√°cil</li>
              <li>Risco controlado</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 24: Functional Programming Patterns -->
    <div class="slide">
      <div class="slide-header"
        style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
        <div class="slide-title">Functional Programming Patterns</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Imutabilidade, composi√ß√£o e pureza</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px;">
          <div>
            <h3 style="color: var(--inteli-purple);">O que √© FP?</h3>
            <p style="font-size: 1.4rem;">Programa√ß√£o funcional traz padr√µes que evitam bugs e facilitam testes.</p>

            <div style="margin-top: 20px; padding: 15px; background: #fff9c4; border-left: 5px solid #fbc02d; border-radius: 8px;">
              <p style="font-size: 1.3rem; margin: 0;">
                <strong>üéØ Analogia:</strong> Como receita de bolo - mesmos ingredientes, sempre o mesmo resultado! Sem surpresas.
              </p>
            </div>

            <h3 style="margin-top: 25px; color: var(--inteli-purple);">Principais Conceitos:</h3>
            <ul style="font-size: 1.3rem;">
              <li><strong>Imutabilidade:</strong> Dados nunca mudam</li>
              <li><strong>Pure Functions:</strong> Sem side effects</li>
              <li><strong>Option/Maybe:</strong> Adeus null!</li>
              <li><strong>Railway Oriented:</strong> Tratamento de erros elegante</li>
            </ul>

            <div style="margin-top: 25px; padding: 15px; background: #e8f5e9; border-left: 5px solid #4caf50; border-radius: 8px;">
              <p style="font-size: 1.2rem; margin: 0;">
                <strong>üí° C# + FP:</strong> C# 12 suporta FP muito bem! LINQ, Records, Pattern Matching...
              </p>
            </div>
          </div>

          <div>
            <div class="code-container">
              <div class="code-content">
                <pre><code>// ‚úÖ Option/Maybe Pattern (sem null!)
public record Option&lt;T&gt;
{
    public static Option&lt;T&gt; Some(T value) => new Some&lt;T&gt;(value);
    public static Option&lt;T&gt; None() => new None&lt;T&gt;();
}

public record Some&lt;T&gt;(T Value) : Option&lt;T&gt;;
public record None&lt;T&gt; : Option&lt;T&gt;;

// Uso
Option&lt;Comentario&gt; BuscarComentario(int id) =>
    comentarios.ContainsKey(id)
        ? Option&lt;Comentario&gt;.Some(comentarios[id])
        : Option&lt;Comentario&gt;.None();

// Pattern matching FTW!
var resultado = BuscarComentario(42) switch
{
    Some&lt;Comentario&gt;(var c) => $"Encontrado: {c.Texto}",
    None&lt;Comentario&gt; => "N√£o encontrado!"
};

// ‚úÖ Railway Oriented Programming
public record Result&lt;T&gt;
{
    public static Result&lt;T&gt; Success(T value) => new Success&lt;T&gt;(value);
    public static Result&lt;T&gt; Failure(string error) => new Failure&lt;T&gt;(error);
}

public record Success&lt;T&gt;(T Value) : Result&lt;T&gt;;
public record Failure&lt;T&gt;(string Error) : Result&lt;T&gt;;

// Encadeamento de opera√ß√µes que podem falhar
var resultado = ValidarComentario(texto)
    .Bind(SalvarNoBanco)
    .Bind(EnviarNotificacao)
    .Match(
        success => $"Sucesso: {success}",
        failure => $"Erro: {failure}"
    );</code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 20: Anti-Patterns -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Anti-Patterns: O que EVITAR</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Padr√µes ruins que voc√™ precisa reconhecer</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">God Object (Objeto Deus)</h3>
            <p style="font-size: 1.3rem;">Uma classe que faz TUDO. Sabe demais, controla demais.</p>
            <div class="code-container" style="margin-top: 15px;">
              <div class="code-content">
                <pre style="font-size: 0.9rem;"><code>// ‚ùå Anti-Pattern
class Sistema {
  void CriarUsuario() { }
  void EnviarEmail() { }
  void ProcessarPagamento() { }
  void GerarRelatorio() { }
  void ValidarDados() { }
  // ... 50 m√©todos mais
}</code></pre>
              </div>
            </div>
          </div>

          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">Spaghetti Code</h3>
            <p style="font-size: 1.3rem;">C√≥digo sem estrutura, cheio de gotos, ifs aninhados, sem separa√ß√£o de responsabilidades.</p>
            <div class="code-container" style="margin-top: 15px;">
              <div class="code-content">
                <pre style="font-size: 0.9rem;"><code>// ‚ùå Anti-Pattern
if (tipo == "A") {
  if (status == 1) {
    if (ativo) {
      // 50 linhas aqui
      if (validado) {
        // mais 30 linhas
      }
    }
  }
}</code></pre>
              </div>
            </div>
          </div>

          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">Copy-Paste Programming</h3>
            <p style="font-size: 1.3rem;">Duplicar c√≥digo ao inv√©s de criar abstra√ß√µes reutiliz√°veis.</p>
            <p style="font-size: 1.2rem; margin-top: 10px;"><strong>Problema:</strong> Bug em um lugar = bug em 10 lugares.</p>
          </div>

          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">Golden Hammer</h3>
            <p style="font-size: 1.3rem;">"Quando voc√™ s√≥ tem um martelo, tudo parece um prego."</p>
            <p style="font-size: 1.2rem; margin-top: 10px;"><strong>Exemplo:</strong> Usar Singleton para TUDO, mesmo quando n√£o faz sentido.</p>
          </div>

          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">Premature Optimization</h3>
            <p style="font-size: 1.3rem;">"A raiz de todo mal" - Donald Knuth</p>
            <p style="font-size: 1.2rem; margin-top: 10px;">Otimizar antes de medir. C√≥digo complexo sem ganho real.</p>
          </div>

          <div style="background: #ffebee; padding: 25px; border-radius: 12px; border-left: 6px solid #f44336;">
            <h3 style="margin-top: 0; color: #c62828;">Magic Numbers/Strings</h3>
            <p style="font-size: 1.3rem;">Valores literais sem contexto espalhados pelo c√≥digo.</p>
            <div class="code-container" style="margin-top: 15px;">
              <div class="code-content">
                <pre style="font-size: 0.9rem;"><code>// ‚ùå Anti-Pattern
if (status == 3) { }
// ‚úÖ Correto
if (status == Status.Aprovado) { }</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 14: Quando N√ÉO usar Padr√µes -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Quando N√ÉO usar Padr√µes</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Padr√µes n√£o s√£o bala de prata</div>
      </div>
      <div class="slide-content">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
          <div style="background: #fff3e0; padding: 30px; border-radius: 12px; border-left: 6px solid #ff9800;">
            <h3 style="margin-top: 0; color: #e65100;">‚ö†Ô∏è Cuidados</h3>
            <ul style="font-size: 1.4rem; line-height: 1.8;">
              <li><strong>Over-engineering:</strong> N√£o use padr√£o s√≥ por usar. YAGNI (You Aren't Gonna Need It).</li>
              <li><strong>Complexidade desnecess√°ria:</strong> Se um if/else simples resolve, n√£o precisa de Strategy.</li>
              <li><strong>C√≥digo pequeno:</strong> Padr√µes t√™m overhead. Em scripts pequenos, KISS (Keep It Simple).</li>
              <li><strong>Performance cr√≠tica:</strong> Alguns padr√µes adicionam camadas que podem impactar performance.</li>
            </ul>
          </div>

          <div style="background: #e8f5e9; padding: 30px; border-radius: 12px; border-left: 6px solid #4caf50;">
            <h3 style="margin-top: 0; color: #2e7d32;">‚úÖ Boas Pr√°ticas</h3>
            <ul style="font-size: 1.4rem; line-height: 1.8;">
              <li><strong>Refatore gradualmente:</strong> N√£o force padr√µes no in√≠cio. Deixe emergir.</li>
              <li><strong>Contexto importa:</strong> Padr√£o X pode ser √≥timo aqui, p√©ssimo ali.</li>
              <li><strong>Combine com SOLID:</strong> Padr√µes + princ√≠pios SOLID = c√≥digo limpo.</li>
              <li><strong>Documente a inten√ß√£o:</strong> Comente POR QUE escolheu aquele padr√£o.</li>
            </ul>
          </div>
        </div>

        <div style="margin-top: 30px; padding: 25px; background: #e3f2fd; border-left: 5px solid #1976d2; border-radius: 8px;">
          <h3 style="margin-top: 0; color: #1565c0;">üí≠ Filosofia</h3>
          <p style="font-size: 1.4rem; margin: 0; line-height: 1.6;">
            "Padr√µes s√£o ferramentas, n√£o dogmas. Use-os quando <strong>resolvem um problema real</strong>,
            n√£o para mostrar que voc√™ conhece padr√µes. O c√≥digo mais simples que funciona
            <em>sempre</em> √© melhor do que o c√≥digo complexo que impressiona."
          </p>
        </div>
      </div>
    </div>

    <!-- Slide 15: Resumo dos Padr√µes Essenciais -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Cheat Sheet: Padr√µes Essenciais</div>
        <div style="font-size: 1.5rem; opacity: 0.9;">Refer√™ncia r√°pida</div>
      </div>
      <div class="slide-content">
        <table style="width: 100%; border-collapse: collapse; font-size: 1.2rem;">
          <thead>
            <tr style="background: linear-gradient(135deg, var(--inteli-purple), var(--inteli-blue)); color: white;">
              <th style="padding: 15px; text-align: left;">Padr√£o</th>
              <th style="padding: 15px; text-align: left;">Categoria</th>
              <th style="padding: 15px; text-align: left;">Problema que Resolve</th>
              <th style="padding: 15px; text-align: left;">Quando Usar</th>
            </tr>
          </thead>
          <tbody>
            <tr style="background: #f5f5f5;">
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Singleton</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Criacional</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">M√∫ltiplas inst√¢ncias indesejadas</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Config, Logger, Pool</td>
            </tr>
            <tr>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Factory Method</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Criacional</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Cria√ß√£o acoplada ao c√≥digo cliente</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Tipos variados de objetos</td>
            </tr>
            <tr style="background: #f5f5f5;">
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Builder</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Criacional</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Construtores com muitos par√¢metros</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Objetos complexos</td>
            </tr>
            <tr>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Adapter</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Estrutural</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Interfaces incompat√≠veis</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Integra√ß√£o com legado/3rd party</td>
            </tr>
            <tr style="background: #f5f5f5;">
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Decorator</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Estrutural</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Adicionar comportamento sem heran√ßa</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Middleware, logging, caching</td>
            </tr>
            <tr>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Facade</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Estrutural</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Sistema complexo dif√≠cil de usar</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Simplificar API complexa</td>
            </tr>
            <tr style="background: #f5f5f5;">
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Observer</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Comportamental</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Notificar mudan√ßas para m√∫ltiplos objetos</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Eventos, Pub/Sub, UI reativa</td>
            </tr>
            <tr>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Strategy</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Comportamental</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Algoritmos vari√°veis</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Trocar comportamento em runtime</td>
            </tr>
            <tr style="background: #f5f5f5;">
              <td style="padding: 12px; border-bottom: 1px solid #ddd;"><strong>Command</strong></td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Comportamental</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Encapsular requisi√ß√µes</td>
              <td style="padding: 12px; border-bottom: 1px solid #ddd;">Undo/Redo, filas de comandos</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Slide 16: Refer√™ncias -->
    <div class="slide">
      <div class="slide-header">
        <div class="slide-title">Refer√™ncias & Pr√≥ximos Passos</div>
      </div>
      <div class="slide-content">
        <h3 style="color: var(--inteli-purple);">Leitura Essencial:</h3>
        <ul style="font-size: 1.4rem; line-height: 1.8;">
          <li><strong>"Design Patterns: Elements of Reusable Object-Oriented Software"</strong> - Gang of Four (Gamma, Helm, Johnson, Vlissides)</li>
          <li><strong>"Head First Design Patterns"</strong> - Freeman & Freeman (mais did√°tico para iniciantes)</li>
          <li><strong>"Refactoring: Improving the Design of Existing Code"</strong> - Martin Fowler</li>
          <li><strong>"Clean Code"</strong> - Robert C. Martin</li>
        </ul>

        <h3 style="color: var(--inteli-purple); margin-top: 40px;">Recursos Online:</h3>
        <ul style="font-size: 1.4rem; line-height: 1.8;">
          <li><strong>Refactoring.Guru</strong> - Excelente site visual sobre padr√µes</li>
          <li><strong>SourceMaking</strong> - Padr√µes + Anti-Patterns</li>
          <li><strong>DoFactory</strong> - Exemplos em C#</li>
        </ul>

        <div style="margin-top: 50px; text-align: center;">
          <h2 style="color: var(--inteli-purple);">Pr√≥xima Aula: SOLID Principles</h2>
          <p style="font-size: 1.3rem;">Como os princ√≠pios SOLID complementam os Design Patterns</p>
        </div>
      </div>
    </div>

    <!-- Slide 17: Atividade Pr√°tica -->
    <div class="slide">
      <div class="slide-header"
        style="text-align: center; flex: 1; display: flex; flex-direction: column; justify-content: center; background: linear-gradient(135deg, firebrick, var(--inteli-dark-purple));">
        <div class="slide-title" style="font-size: 3.5rem;">üî• Desafio Pr√°tico</div>
        <div
          style="text-align: left; margin: 40px auto; width: 80%; background: rgba(0,0,0,0.3); padding: 30px; border-radius: 15px;">
          <p style="font-size: 1.5rem;"><strong>Cen√°rio:</strong> Refatorar c√≥digo do projeto usando Design Patterns</p>

          <p style="font-size: 1.3rem; margin-top: 25px;"><strong>Tarefas (45 min):</strong></p>
          <ol style="font-size: 1.3rem; line-height: 1.8;">
            <li><strong>Identificar:</strong> Encontre 3 lugares no c√≥digo do projeto onde um padr√£o poderia ser aplicado.</li>
            <li><strong>Justificar:</strong> Explique QUAL padr√£o e POR QUE ele resolve o problema.</li>
            <li><strong>Implementar:</strong> Escolha 1 padr√£o e implemente-o (Observer ou Strategy recomendados).</li>
            <li><strong>Apresentar:</strong> Mostre o antes/depois do c√≥digo para a turma.</li>
          </ol>

          <p style="font-size: 1.3rem; margin-top: 25px;"><strong>Dicas:</strong></p>
          <ul style="font-size: 1.2rem;">
            <li>Observer: Sistema de notifica√ß√µes quando coment√°rio √© criado</li>
            <li>Strategy: Diferentes algoritmos de an√°lise de sentimento</li>
            <li>Factory: Cria√ß√£o de diferentes tipos de relat√≥rios/exporta√ß√µes</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Footer Navigation -->
    <div class="slide-footer"
      style="background: transparent; border-top: none; box-shadow: none; padding: 10px 40px;">
      <a href="../module-9-sistemas-informacao.html" class="back-home"
        style="background: rgba(255,255,255,0.9); color: var(--inteli-purple); padding: 8px 15px; border-radius: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">‚Üê
        Voltar</a>

      <div class="nav-wrapper"
        style="display: flex; align-items: center; gap: 15px; background: rgba(255,255,255,0.9); padding: 5px 15px; border-radius: 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
        <div class="nav-buttons" style="margin: 0;">
          <button id="prev-btn" onclick="previousSlide()" style="margin: 0; padding: 5px 15px;">‚Üê</button>
        </div>
        <div class="slide-counter" style="font-weight: 600; color: var(--inteli-purple);">
          <span id="current-slide">1</span> / <span id="total-slides">24</span>
        </div>
        <div class="nav-buttons" style="margin: 0;">
          <button id="next-btn" onclick="nextSlide()" style="margin: 0; padding: 5px 15px;">‚Üí</button>
        </div>
      </div>
    </div>

    <script>
      let currentSlide = 0;
      const slides = document.querySelectorAll('.slide');
      const totalSlides = slides.length;
      document.getElementById('total-slides').textContent = totalSlides;

      function showSlide(index) {
        slides.forEach((slide, i) => {
          slide.classList.remove('active');
          if (i === index) slide.classList.add('active');
        });
        currentSlide = index;
        document.getElementById('current-slide').textContent = index + 1;
        document.getElementById('prev-btn').disabled = index === 0;
        document.getElementById('next-btn').disabled = index === totalSlides - 1;
      }

      function nextSlide() {
        if (currentSlide < totalSlides - 1) showSlide(currentSlide + 1);
      }

      function previousSlide() {
        if (currentSlide > 0) showSlide(currentSlide - 1);
      }

      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
        else if (e.key === 'ArrowLeft') previousSlide();
      });

      function copyCode(button) {
        const codeBlock = button.previousElementSibling.querySelector('code');
        const text = codeBlock.textContent;
        navigator.clipboard.writeText(text).then(() => {
          button.textContent = 'Copiado!';
          setTimeout(() => button.textContent = 'Copiar', 2000);
        });
      }

      showSlide(0);
    </script>
  </div>
</body>

</html>
